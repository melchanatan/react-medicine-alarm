{"version":3,"sources":["config.js","components/TimePicker.jsx","components/Clock.jsx","components/Alarm.jsx","components/App.jsx","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","TimePicker","props","myNumber","useState","value","setValue","maxValue","increment","useEffect","passValue","id","className","onClick","prev","type","min","max","onChange","event","targetValue","parseInt","target","slice","currentTime","minute","hour","Clock","updateList","Alarm","formatNumber","deleteAlarm","App","firebaseApp","initializeApp","db","getFirestore","alarmList","setAlarmlist","a","setDoc","doc","console","error","deleteDoc","unsubscribe","onSnapshot","collection","snapshot","alarms","forEach","push","data","sort","b","map","item","index","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b93d5dd9.chunk.js","sourcesContent":["const firebaseConfig = {\n    apiKey: \"AIzaSyDC06NHOw7ZXuUneZsZvUcaW4PkfOMsNWc\",\n    authDomain: \"smart-med-con.firebaseapp.com\",\n    databaseURL: \"https://smart-med-con-default-rtdb.asia-southeast1.firebasedatabase.app\",\n    projectId: \"smart-med-con\",\n    storageBucket: \"smart-med-con.appspot.com\",\n    messagingSenderId: \"549264455625\",\n    appId: \"1:549264455625:web:4fa6ff26a71591c2c21a18\",\n    measurementId: \"G-65BZ99SJK3\"\n};\n\nexport default firebaseConfig;","import React, { useEffect, useState } from \"react\";\n\nfunction TimePicker(props) {\n\n  const [value, setValue] = useState(0);\n  const maxValue = props.maxValue;\n  const increment = props.increment;\n  \n  const formatNumber = myNumber => (\"0\" + myNumber).slice(-2);\n\n  useEffect(() => {\n    props.passValue(value, props.id);\n  })\n\n  function timeUp() {\n    if (value + increment < maxValue) setValue( prev => prev + increment);\n    else setValue(0);\n  }\n\n  function timeDown() {\n    if (value - increment >= 0) setValue(prev => prev - increment);\n    else setValue(maxValue - increment);\n  }\n\n  function handleChange(event) {\n    const targetValue = parseInt(event.target.value);\n    if (targetValue >= maxValue || targetValue < 0) setValue(0);\n    else setValue(targetValue);\n  }\n\n\n  return (\n    <div className=\"clock__container\">\n        <button className=\"btn clock-btn\" onClick={timeUp} ><i className=\"fas fa-chevron-up\"></i></button>\n        <input type=\"number\" className=\"clock__label\" min=\"0\" max=\"60\" onChange={handleChange} value={formatNumber(value)}/>\n        <button className=\"btn clock-btn\" onClick={timeDown}><i className=\"fas fa-chevron-down\"></i></button>\n      </div>\n  );\n}\n\nexport default TimePicker;\n","import React from \"react\";\nimport TimePicker from \"./TimePicker\"\n\n\nconst currentTime = {minute: 0, hour: 0};\nfunction Clock(props) {\n\n  function passValue(value, id) {\n    currentTime[id] = value;\n  }\n\n  function setAlarm() {\n    props.updateList(currentTime.minute, currentTime.hour);\n  }\n\n  return (\n    <div className=\"clock-container\">\n    <h3>Set your Medicine Alarm</h3>\n      <div className=\"clock\">\n          <TimePicker maxValue={24} increment={1} passValue={passValue} id=\"hour\" key=\"hour\" />\n          <span className=\"clock-colon\">:</span>\n          <TimePicker maxValue={60} increment={5} passValue={passValue} id=\"minute\" key=\"minute\" />\n          <button className=\"clock__set-alarm\" onClick={setAlarm}><i className=\"fal fa-alarm-plus\"></i></button>\n      </div>\n    </div>\n  );\n}\n\nexport default Clock;\n","import React from \"react\";\n\nfunction Alarm(props) {\n\n  const formatNumber = myNumber => (\"0\" + myNumber).slice(-2);\n  return (\n    <div className=\"alarm\">\n      <span className=\"alarm__label\">{formatNumber(props.hour)}</span>\n      <span className=\"clock-colon\">:</span>\n      <span className=\"alarm__label\">{formatNumber(props.minute)}</span>\n      <button className=\"alarm-btn\" onClick={ () => props.deleteAlarm(props.id)}><i className=\"fas fa-trash\"></i></button>\n    </div>\n  );\n}\n\nexport default Alarm;\n","import { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, setDoc, doc, deleteDoc, onSnapshot } from \"firebase/firestore\"\nimport firebaseConfig from \"../config\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Clock from \"./Clock\";\nimport Alarm from \"./Alarm\";\n\nfunction App() {\n  const firebaseApp = initializeApp(firebaseConfig);\n  const db = getFirestore(firebaseApp);\n\n  const [alarmList, setAlarmlist] = useState([]);\n  \n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db,\"alarms\"), (snapshot) => {\n      const alarms = [];\n      snapshot.forEach((doc) => {\n        alarms.push({ id:doc.id, minute: doc.data().minute, hour: doc.data().hour });\n      });\n      alarms.sort((a,b) => {\n        return a.id-b.id;\n      });\n      setAlarmlist(alarms);\n      //console.log(\"update\");\n    });\n    return () => unsubscribe();\n  }, [db]);\n\n  async function updateList(minute, hour) {\n    try{\n      await setDoc(doc(db, \"alarms\" , '' + (hour*60+minute)),{\n        hour: hour,\n        minute: minute\n      });\n      //console.log(\"Document written\");\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  }\n\n  async function deleteAlarm(id) {\n    await deleteDoc(doc(db, \"alarms\" , id))\n  }\n\n  return (\n    <div className=\"app\">\n      <Clock updateList={updateList} />\n      <div className=\"alarm__container\">\n        { alarmList && alarmList.map( (item, index) =>\n          <Alarm\n            minute={item.minute}\n            hour={item.hour}\n            key={item.id}\n            id={item.id}\n            deleteAlarm={deleteAlarm}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}